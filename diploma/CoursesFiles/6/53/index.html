<p>Цепочка Обязанностей (Chain of responsibility) - поведенческий шаблон проектирования, который позволяет избежать жесткой привязки отправителя запроса к получателю, позволяя нескольким объектам обработать запрос. Все возможные обработчики запроса образуют цепочку, а сам запрос перемещается по этой цепочке, пока один из ее объектов не обработает запрос. Каждый объект при получении запроса выбирает, либо обработать запрос, либо передать выполнение запроса следующему по цепочке.</p>
<p><b>Когда применяется цепочка обязанностей?</b></p>
<ul>
    <li>Когда имеется более одного объекта, который может обработать определенный запрос</li>
    <li>Когда надо передать запрос на выполнение одному из нескольких объект, точно не определяя, какому именно объекту</li>
    <li>Когда набор объектов задается динамически</li>
</ul>
<p>UML-представление паттерна:</p>
<img src="../../CoursesFiles/6/53/img/1.jpg">
<p>Формальное определение на языке C#:</p><br>
<img src="../../CoursesFiles/6/53/img/2.jpg"><br>
<img src="../../CoursesFiles/6/53/img/3.jpg"><br>
<img src="../../CoursesFiles/6/53/img/4.jpg"><br>
<p><b>Участники</b></p>
<ul>
    <li>Handler: определяет интерфейс для обработки запроса. Также может определять ссылку на следующий обработчик запроса</li>
    <li>ConcreteHandler1 и ConcreteHandler2: конкретные обработчики, которые реализуют функционал для обработки запроса. При невозможности обработки и наличия ссылки на следующий обработчик, передают запрос этому обработчику<br>В данном случае для простоты примера в качестве параметра передается некоторое число, и в зависимости от значения данного числа обработчики и принимают решения об обработке запроса.</li>
    <li>Client: отправляет запрос объекту Handler</li>
</ul>
<p>То есть у нас образуется небольшая цепочка обработки запроса:</p>
<img src="../../CoursesFiles/6/53/img/5.jpg">
<p>Использование цепочки обязанностей дает нам следующие преимущества:</p>
<ul>
    <li>Ослабление связанности между объектами. Отправителю и получателю запроса ничего не известно друг о друге. Клиенту неизветна цепочка объектов, какие именно объекты составляют ее, как запрос в ней передается.</li>
    <li>В цепочку с легкостью можно добавлять новые типы объектов, которые реализуют общий интерфейс.</li>
</ul>
<p>В то же время у паттерна есть недостаток: никто не гарантирует, что запрос в конечном счете будет обработан. Если необходимого обработчика в цепочки не оказалось, то запрос просто выходит из цепочки и остается необработанным.</p>
<p>Использование паттерна довольно часто встречается в нашей жизни. Достаточно распространена ситуация, когда чиновники перекладывают друг на друга по цепочке выполнения какого-нибудь дела, и оно в конце концов оказывается не выполненным. Или когда мы идем в поликлинику, но при этом точно не знаем характер заболевания. В этом случае мы идем к терапевту, а он в зависимости от заболевания уже может либо сам лечить, либо отправить на лечение другим специализированным врачам.</p>
<style>p{text-indent: 25px;}</style>