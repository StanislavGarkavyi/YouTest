<p>Строитель (Builder) - шаблон проектирования, который инкапсулирует создание объекта и позволяет разделить его на различные этапы.</p>
<p><b>Когда использовать паттерн Строитель?</b></p>
<ul>
<li>Когда процесс создания нового объекта не должен зависеть от того, из каких частей этот объект состоит и как эти части связаны между собой</li>
<li>Когда необходимо обеспечить получение различных вариаций объекта в процессе его создания</li>
</ul>
<p>Формально в UML паттерн мог бы выглядеть следующим образом:</p>
<img src="../../CoursesFiles/6/49/img/1.jpg">
<p>Формальное определение на C# могло бы выглядеть так:</p>
<br><img src="../../CoursesFiles/6/49/img/2.jpg"><br>
<img src="../../CoursesFiles/6/49/img/3.jpg"><br>
<img src="../../CoursesFiles/6/49/img/4.jpg"><br>
<p>Участники</p>
<ul>
<li>Product: представляет объект, который должен быть создан. В данном случае все части объекта заключены в списке parts.</li>
<li>Builder: определяет интерфейс для создания различных частей объекта Product</li>
<li>ConcreteBuilder: конкретная реализация Buildera. Создает объект Product и определяет интерфейс для доступа к нему</li>
<li>Director: распорядитель - создает объект, используя объекты Builder</li>
</ul>
<p>Рассмотрим применение паттерна на примере выпечки хлеба. Как известно, даже обычный хлеб включает множество компонентов. Мы можем использовать для представления хлеба и его компонентов следующие классы:</p>
<br>
<img src="../../CoursesFiles/6/49/img/5.jpg"><br>
<img src="../../CoursesFiles/6/49/img/6.jpg"><br>
<p>Кстати в данном случае для построения строки используется класс StringBuilder.</p>
<p>Хлеб может иметь различную комбинацию компонентов: ржаной и пшеничной муки, соли, пищевых добавок. И нам надо обеспечить выпечку разных сортов хлеба. Для разных сортов хлеба может варьироваться конкретный набор компонентов, не все компоненты могут использоваться. И для этой задачи применим паттерн Builder:</p><br>
<img src="../../CoursesFiles/6/49/img/7.jpg"><br>
<img src="../../CoursesFiles/6/49/img/8.jpg"><br>
<img src="../../CoursesFiles/6/49/img/9.jpg"><br>
<img src="../../CoursesFiles/6/49/img/10.jpg"><br>
<img src="../../CoursesFiles/6/49/img/11.jpg"><br>
<p>Консольный вывод программы:</p>
<img src="../../CoursesFiles/6/49/img/12.jpg">
<p>В данном случае с помощью конкретных строителей RyeBreadBuilder и WheatBreadBuilder создаются объекты Bread с определенным набором. В роли распорядителя выступает класс пекаря Baker, который вызывает методы конкретных строителей для построения нового объекта.</p>
<style>p{text-indent: 25px;}</style>