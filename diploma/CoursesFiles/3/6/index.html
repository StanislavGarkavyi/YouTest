<p>Вначале создадим на сервере MySQL пустую базу данных, которую назовем store и с которой мы будет работать в приложении на Java. Для создания базы данных применяется выражение SQL:</p>
<img src="../../CoursesFiles/3/6/img/1.jpg">
<p>Его можно выполнить либо из консольного клиента MySQL Command Line Client, либо из графического клиента MySQL Workbench, которые устанавливются вместе с сервером MySQL. Подробнее про создание базы данных можно прочитать в статье Создание и удаление базы данных.</p>
<p>Для подключения к базе данных необходимо создать объект java.sql.Connection. Для его создаия применяется метод:</p>
<img src="../../CoursesFiles/3/6/img/2.jpg">
<p>Метод DriverManager.getConnection в качестве параметров принимает адрес источника данных, логин и пароль. В качестве логина и пароля передаются логин и пароль от сервера MySQL. Адрес локальной базы данных MySQL указывается в следующем формате: jdbc:mysql://localhost/название_базы данных</p>
<p>Пример создания подключения к созданной выше локальной базе данных store:</p>
<img src="../../CoursesFiles/3/6/img/3.jpg">
<p>После завершения работы с подключением его следует закрыть с помощью метода close():</p>
<img src="../../CoursesFiles/3/6/img/4.jpg">
<p>Либо мы можем использовать конструкцию try:</p>
<img src="../../CoursesFiles/3/6/img/5.jpg">
<p><b>Возможные проблемы с часовыми поясами и SSL</b></p>
<p>При подключении к базе данных MySQL мы можем столкнуться с рядом проблем. Например, определим следующий код подключения:</p><br><img src="../../CoursesFiles/3/6/img/6.jpg"><br><img src="../../CoursesFiles/3/6/img/7.jpg"><br>
<p>Даже если указаны правильно адрес базы данных, логин, пароль, мы все равно можем столкнуться с ошибками:</p>
<img src="../../CoursesFiles/3/6/img/8.jpg">
<p>Из консольного вывода видно, что проблема заключается с SSL и часовым поясом. Чтобы решить данную проблему, необходимо указать в адресе подключения часовой пояс бд и параметры для использования ssl. В частности, я указываю, что SSL не будет использоваться и что часовым поясом будет московский часовой пояс:</p>
<img src="../../CoursesFiles/3/6/img/9.jpg">
<p>Параметры подключения указываются после вопросительного знака после названия базы данных. Параметр serverTimezone указывает на название часового пояса сервера бд. В данном случае "Europe/Moscow", cписок всех допустимых названий часовых поясов можно найти на странице https://gist.github.com/kinjal/9105369. И параметр useSSL=false указывает, что SSL не будет применяться.</p>
<p><b>Файлы конфигурации</b></p>
<p>Мы можем определить все данные для подключения непосредственно в программе. Однако что если какие-то данные были изменены? В этом случае потребуется перекомпиляция приложения. Иногда это не всегда удобно, например, отсутствует досуп к исходникам, или перекомпиляция займет довольно продолжительное время. В этом случае мы можем хранить настройки в файле.</p>
<p>Так, создадим в папке программы новый текстовый файл database.properties, в котором определим настройки подключения:</p>
<img src="../../CoursesFiles/3/6/img/10.jpg">
<p>Загрузим эти настройки в программе:</p> <br><img src="../../CoursesFiles/3/6/img/11.jpg"><br><img src="../../CoursesFiles/3/6/img/12.jpg">
<style>p{text-indent: 25px;}img{width: 100%}</style>