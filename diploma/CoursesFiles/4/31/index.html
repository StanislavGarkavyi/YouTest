<p>Продолжим работу с проектом из прошлой темы. И теперь в папке ClientApp/app определим файл product-form.component.ts::</p>
<img src="../../CoursesFiles/4/31/img/1.jpg">
<p>Этот компонент будет представлять форму (добавления или редактирования), данные которой будет представлять объект Product. Сам объект Product будет передаваться компоненту из вне. Поэтому к переменной компонента, которая будет хранить добавляемый или редактируемый объект Product, применяется декоратор @Input.</p>
<p>Этот компонент будет использовать файл product-form.component.html, который определяет форму для ввода значений объекта Product. Поэтому добавим данный файл в папку ClientApp/app и определим в нем следующий код:</p>
<img src="../../CoursesFiles/4/31/img/2.jpg">
<p>Этот компонент будет использоваться при добавлении и редактировании. И теперь добавим в папку ClientApp/app новый файл product-create.component.ts, который будет хранит компонент добавления нового объекта:</p>
<img src="../../CoursesFiles/4/31/img/3.jpg">
<p>Этот компонент добавляет новый объект Product. Добавление производится в методе save с помощью метода createProduct у сервиса DataService. После добавления с помощью метода router.navigateByUrl() производится программный переход на корень приложения.</p>
<p>И также добавим в папку ClientApp/app файл product-create.component.html, который будет использоваться этим компонентом:</p>
<img src="../../CoursesFiles/4/31/img/4.jpg">
<p>Для определения формы здесь применяется компонент ProductFormComponent, а для сохранения объекта при нажатии на кнопку будет вызываться метод save.</p>
<p>Далее добавим в каталог ClientApp/app новый файл product-edit.component.ts, который будет представлять компонент редактирования объекта:</p>
<br><img src="../../CoursesFiles/4/31/img/5.jpg"><br><img src="../../CoursesFiles/4/31/img/6.jpg"><br>
<p>Этот компонент с помощью системы маршрутизации будет получать id редактируемого объекта и вызывать у сервиса метод getProduct() для получения этого объекта.</p>
<p>С помощью метода save() измененный объект будет отправляться обратно на сервер, после чего будет выполняться программный переход на корень приложения, где будет выводиться список объектов.</p>
<p>И также добавим в папку ClientApp/app файл product-edit.component.html, который будет представлять разметку компонента:</p>
<img src="../../CoursesFiles/4/31/img/7.jpg">
<p>Для редактирования здесь опять же используется форма, предоставляемая компонентом ProductFormComponent. А по нажатию на кнопку будет вызываться метод save().</p>
<p>Затем определим в каталоге ClientApp/app файл product-list.component.ts, который будет представлять компонент со списком объектов:</p>
<br><img src="../../CoursesFiles/4/31/img/8.jpg"><br><img src="../../CoursesFiles/4/31/img/9.jpg"><br>
<p>Этот компонент загружает все объекты из БД и кроме того определяет метод delete для удаления объекта по id.</p>
<p>Для этого компонента добавим в папку ClientApp/app файл product-list.component.html со следующей разметкой:</p>
<br><img src="../../CoursesFiles/4/31/img/10.jpg"><br><img src="../../CoursesFiles/4/31/img/11.jpg">
<p>Здесь в табличном виде отображаются все загруженные объекты. Для каждого объекта определена ссылка, по нажатию на которую поизойдет переход к функционалу для редактирования выбранного объекта. Также для каждого объекта определена кнопка, по нажатию на которую будет выполняться метод delete(), который удалит выбранный объект.</p>
<p>Перед таблицей располагается ссылка на добавление нового объекта.</p>
<p>И в конце добавим в проект в папку ClientApp/app еще один файл not-found.component.ts, который будет представлять компонент для несуществующих маршрутов:</p>
<img src="../../CoursesFiles/4/31/img/12.jpg">
<p>И зафиксируем все маршруты и сопоставим их с компонентами в файле app.module.ts:</p>
<br><img src="../../CoursesFiles/4/31/img/13.jpg"><br><img src="../../CoursesFiles/4/31/img/14.jpg"><br>
<p>В данном случае путь "/create" будет сопоставляться с компонентом ProductCreateComponent, а путь "/edit/:id" - с компонентом ProductEditComponent. Маршрут по корневому пути будет обрабатываться компонентом ProductListComponent, а маршруты по остальным путям - компонентом NotFoundComponent.</p>
<p>В итоге проект будет выглядеть следующим образом:</p>
<img src="../../CoursesFiles/4/31/img/15.jpg" style="width: 25%; margin-left: 30%">
<p>Запустим проект, и по умолчанию обращение будет идти к корню приложения, поэтому запрос будет обрабатываться компонентом ProductListComponent, и мы увидим список объектов:

</p>
<img src="../../CoursesFiles/4/31/img/16.jpg" style="width: 50%; margin-left: 25%">
<p>А при нажатии на ссылку добавления или переходу к редактированию объекта откроется форма для ввода значений объекта:</p>
<img src="../../CoursesFiles/4/31/img/17.jpg" style="width: 50%; margin-left: 25%">
<style>p{text-indent: 25px}img{width: 100%}</style>