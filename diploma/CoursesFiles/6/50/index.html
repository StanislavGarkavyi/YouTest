<p>Паттерн "Наблюдатель" (Observer) представляет поведенческий шаблон проектирования, который использует отношение "один ко многим". В этом отношении есть один наблюдаемый объект и множество наблюдателей. И при изменении наблюдаемого объекта автоматически происходит оповещение всех наблюдателей.</p>
<p>Данный паттерн еще называют Publisher-Subscriber (издатель-подписчик), поскольку отношения издателя и подписчиков характеризуют действие данного паттерна: подписчики подписываются email-рассылку определенного сайта. Сайт-издатель с помощью email-рассылки уведомляет всех подписчиков о изменениях. А подписчики получают изменения и производят определенные действия: могут зайти на сайт, могут проигнорировать уведомления и т.д.</p>
<p><b>Когда использовать паттерн Наблюдатель?</b></p>
<ul>
    <li>Когда система состоит из множества классов, объекты которых должны находиться в согласованных состояниях</li>
    <li>Когда общая схема взаимодействия объектов предполагает две стороны: одна рассылает сообщения и является главным, другая получает сообщения и реагирует на них. Отделение логики обеих сторон позволяет их рассматривать независимо и использовать отдельно друга от друга.</li>
    <li>Когда существует один объект, рассылающий сообщения, и множество подписчиков, которые получают сообщения. При этом точное число подписчиков заранее неизвестно и процессе работы программы может изменяться.</li>
</ul>
<p>С помощью диаграмм UML данный шаблон можно выразить следующим образом:</p>
<img src="../../CoursesFiles/6/50/img/1.jpg">
<p>Формальное определение паттерна на языке C# может выглядеть следующим образом:</p>
<br><img src="../../CoursesFiles/6/50/img/2.jpg"><br><img src="../../CoursesFiles/6/50/img/3.jpg"><br>
<p><b>Участники</b></p>
<ul>
    <li>IObservable: представляет наблюдаемый объект. Определяет три метода: AddObserver() (для добавления наблюдателя), RemoveObserver() (удаление набюдателя) и NotifyObservers() (уведомление наблюдателей)</li>
    <li>ConcreteObservable: конкретная реализация интерфейса IObservable. Определяет коллекцию объектов наблюдателей.</li>
    <li>IObserver: представляет наблюдателя, который подписывается на все уведомления наблюдаемого объекта. Определяет метод Update(), который вызывается наблюдаемым объектом для уведомления наблюдателя.</li>
    <li>ConcreteObserver: конкретная реализация интерфейса IObserver.</li>
</ul>
<p>При этом наблюдаемому объекту не надо ничего знать о наблюдателе кроме того, что тот реализует метод Update(). С помощью отношения агрегации реализуется слабосвязанность обоих компонентов. Изменения в наблюдаемом объекте не виляют на наблюдателя и наоборот.</p>
<p>В определенный момент наблюдатель может прекратить наблюдение. И после этого оба объекта - наблюдатель и наблюдаемый могут продолжать существовать в системе независимо друг от друга.</p>
<style>p{text-indent: 25px;}</style>